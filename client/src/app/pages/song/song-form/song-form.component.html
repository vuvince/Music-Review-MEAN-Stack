<!-- src/app/pages/admin/song-form/song-form.component.html -->
<form [formGroup]="songForm" (ngSubmit)="onSubmit()">
  <!-- Title -->
  <div class="form-group">
    <label for="title">Title</label>
    <input
      id="title"
      type="text"
      class="form-control"
      formControlName="title"
      [maxlength]="sf.titleMax"
    />
    <div
      *ngIf="formErrors.title"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.title"
    ></div>
  </div>
  <!-- Artist -->
  <div class="form-group">
    <label for="title">Artist</label>
    <input
      id="artist"
      type="text"
      class="form-control"
      formControlName="artist"
      [maxlength]="sf.titleMax"
    />
    <div
      *ngIf="formErrors.title"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.title"
    ></div>
  </div>
  <!-- FOR DMCA NOTICE -->
  <section *ngIf="auth.loggedIn && auth.isAdmin">
    <div class="form-group">
      <label class="label-inline-group">Song has copyright infringement?</label>
      <div class="form-check form-check-inline">
        <label class="form-check-label">
          <input
            id="cViolation-yes"
            type="radio"
            class="form-check-input"
            [value]="true"
            formControlName="cViolation"
          />
          Yes
        </label>
      </div>
      <div class="form-check form-check-inline">
        <label class="form-check-label">
          <input
            id="cViolation-no"
            type="radio"
            class="form-check-input"
            [value]="false"
            formControlName="cViolation"
          />
          No
        </label>
      </div>
      <div
        *ngIf="formErrors.cViolation"
        class="small text-danger formErrors"
        [innerHTML]="formErrors.cViolation"
      ></div>
    </div>
  </section>
  <!-- Album -->
  <div class="form-group">
    <label for="title">Album</label>
    <input
      id="album"
      type="text"
      class="form-control"
      formControlName="album"
      [maxlength]="sf.titleMax"
    />
    <div
      *ngIf="formErrors.title"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.title"
    ></div>
  </div>
  <!-- Genre -->
  <!-- MAKE THIS A DROPDOWN WITH SELECTION -->
  <div class="form-group">
    <label for="genre">Genre</label>
    <input
      id="genre"
      type="text"
      class="form-control"
      formControlName="genre"
      [maxlength]="sf.genreMax"
    />
    <div
      *ngIf="formErrors.genre"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.genre"
    ></div>
  </div>
  <!-- Submit -->
  <div class="form-group">
    <button
      type="submit"
      class="btn btn-primary"
      [innerText]="submitBtnText"
    ></button>
    <!-- https://github.com/angular/angular/issues/11271#issuecomment-289806196 -->
    <app-submitting *ngIf="submitting"></app-submitting>
    <a
      *ngIf="!submitting"
      class="btn btn-link"
      (click)="resetForm()"
      tabindex="0"
      >Reset Form</a
    >
    <!-- API submission error -->
    <p *ngIf="error" class="mt-3 alert alert-danger">
      <strong>Error:</strong> There was a problem submitting the song. Please
      try again.
    </p>
  </div>
</form>
